{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Backstage</title>
  <link rel="icon" type="image/png" href="{% static 'images/Icone_Backstage.png' %}">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
  <link rel="stylesheet" href="{% static 'css/movies.css' %}">
  <link rel="stylesheet" href="{% static 'css/dropdown.css' %}">
  <link rel="stylesheet" href="{% static 'css/mobile.css' %}">
  <link rel="stylesheet" href="{% static 'css/intro.css' %}">
  {% block extra_css %}{% endblock %}
</head>
<body>
  <!-- Video Intro Overlay -->
  <div class="intro-overlay">
    <div class="intro-video-container">
      <video class="intro-video" muted playsinline preload="auto">
        <source src="{% static 'videos/intro.mp4' %}" type="video/mp4">
        Seu navegador não suporta vídeo HTML5.
      </video>
      <button class="intro-skip-btn" aria-label="Pular introdução">
        Pular
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="13 17 18 12 13 7"></polyline>
          <polyline points="6 17 11 12 6 7"></polyline>
        </svg>
      </button>
    </div>
  </div>

  {% include 'backstage/_mobile_header.html' %}
    <header class="site-header">
    <div class="container">
      <nav class="nav-primary">
        <a class="brand" href="{% url 'backstage:index' %}">
            <img src="{% static 'images/Logo_Backstage_branca.png' %}"
                 alt="Backstage Logo"
                 width="250">
        </a>

        <div class="nav-menu">
          <a href="{% url 'backstage:index' %}" class="nav-link active">Início</a>
          <a href="{% url 'backstage:movies' %}" class="nav-link">Filmes</a>
          <a href="{% url 'backstage:series' %}" class="nav-link">Séries</a>
          <a href="{% url 'backstage:lists' %}" class="nav-link">Listas</a>
          <a href="{% url 'backstage:comunidade' %}" class="nav-link">Comunidade</a>
        </div>

        <div class="nav-actions">
          <form method="get" action="{% url 'backstage:buscar' %}" class="search-container">
            <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none">
              <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
              <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <input type="search" name="q" class="search-input" placeholder="Buscar filmes, séries..." autocomplete="off" />
            <input type="hidden" name="tipo" value="titulo" />
            <div class="search-suggestions"></div>
          </form>

          <button class="icon-btn notification-btn" aria-label="Notificações">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M12 2a7 7 0 0 1 7 7c0 5.25 1.5 6.75 1.5 6.75H3.5S5 14.25 5 9a7 7 0 0 1 7-7z" stroke="currentColor" stroke-width="2"/>
              <path d="M10.5 19a1.5 1.5 0 0 0 3 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="notification-badge">3</span>
          </button>

          {% include 'backstage/_user_dropdown.html' %}
        </div>
      </nav>
    </div>
  </header>

<!-- Hero Section -->
  <section class="hero">
    {% if filme_destaque %}
    <div class="hero-backdrop-desktop">
      <img src="{{ tmdb_image_base }}original{{ filme_destaque.backdrop_path|default:filme_destaque.poster_path }}" alt="{{ filme_destaque.titulo }}" />
      <div class="hero-gradient"></div>
    </div>
    <div class="hero-backdrop-mobile">
      <img src="{{ tmdb_image_base }}original{{ filme_destaque.backdrop_path|default:filme_destaque.poster_path }}" alt="{{ filme_destaque.titulo }}" />
      <div class="hero-gradient"></div>
    </div>
    <div class="container hero-content">
      <div class="hero-info">
        <span class="hero-badge">Em Destaque</span>
        <h1 class="hero-title">{{ filme_destaque.titulo }}</h1>
        <div class="hero-meta">
          <span class="hero-year">{{ filme_destaque.ano_lancamento|default:"2024" }}</span>
          <span class="hero-duration">{{ filme_destaque.duracao_min|default:"120" }} min</span>
          <span class="hero-rating">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            {{ filme_destaque.nota_escala_5|default:"4.0" }}
          </span>
        </div>
        <div class="hero-actions">
          <button class="btn btn-primary btn-large">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M8 5v14l11-7z"/>
            </svg>
            Assistir Trailer
          </button>
          <button class="btn btn-secondary btn-large">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 5v14M5 12h14"/>
            </svg>
            Adicionar à Lista
          </button>
          <button class="btn btn-ghost btn-large">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
    {% else %}
    <div class="hero-backdrop-desktop">
      <div class="hero-gradient"></div>
    </div>
    <div class="hero-backdrop-mobile">
      <div class="hero-gradient"></div>
    </div>
    <div class="container hero-content">
      <div class="hero-info">
        <h1 class="hero-title">Bem-vindo ao Backstage</h1>
        <p class="hero-synopsis">
          Descubra os melhores filmes e séries.
        </p>
      </div>
    </div>
    {% endif %}
  </section>

  <main class="container">

    <!-- Filtros avançados -->
    <section class="filter-section">
      <div class="filter-row">
        <div class="filter-tabs">
          <button class="filter-tab active">Todos</button>
          <button class="filter-tab">Ação</button>
          <button class="filter-tab">Drama</button>
          <button class="filter-tab">Comédia</button>
          <button class="filter-tab">Ficção Científica</button>
          <button class="filter-tab">Terror</button>
          <button class="filter-tab">Romance</button>
        </div>
        <div class="filter-controls">
          <select class="filter-select">
            <option>Mais populares</option>
            <option>Melhor avaliados</option>
            <option>Lançamentos</option>
            <option>Alfabético</option>
          </select>
          <button class="filter-btn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="4" y1="6" x2="20" y2="6"/>
              <line x1="4" y1="12" x2="20" y2="12"/>
              <line x1="4" y1="18" x2="20" y2="18"/>
              <circle cx="7" cy="6" r="2" fill="currentColor"/>
              <circle cx="17" cy="12" r="2" fill="currentColor"/>
              <circle cx="9" cy="18" r="2" fill="currentColor"/>
            </svg>
            Filtros
          </button>
        </div>
      </div>
    </section>

    <!-- GOATS (Greatest of All Time) -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">
          <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          GOATS
        </h2>
        <a href="#" class="section-link">Ver todos →</a>
      </div>
      <div class="carousel">
        <button class="carousel-btn prev">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <div class="carousel-track" id="goats-movies">
          <!-- Filmes GOATS serão inseridos via JS -->
        </div>
        <button class="carousel-btn next">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </button>
      </div>
    </section>


    <!-- Em Cartaz -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">
          <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 4V2a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v2H2a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-1V2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2H7z"/>
            <path d="M5 9h14M5 13h14M5 17h14"/>
          </svg>
          Em Cartaz
        </h2>
        <a href="#" class="section-link">Ver todos →</a>
      </div>
      <div class="carousel">
        <button class="carousel-btn prev">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <div class="carousel-track" id="em-cartaz-movies">
          <!-- Filmes em cartaz serão inseridos via JS -->
        </div>
        <button class="carousel-btn next">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </button>
      </div>
    </section>

    <!-- Clássicos Imperdíveis -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">
          <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 2h3l2 3h7a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/>
            <circle cx="12" cy="13" r="3"/>
          </svg>
          Clássicos Imperdíveis
        </h2>
        <a href="#" class="section-link">Ver todos →</a>
      </div>
      <div class="carousel">
        <button class="carousel-btn prev">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <div class="carousel-track" id="classicos-movies">
          <!-- Filmes clássicos serão inseridos via JS -->
        </div>
        <button class="carousel-btn next">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </button>
      </div>
    </section>

    <!-- Recomendados para você -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">
          <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
          </svg>
          Recomendados para você
        </h2>
        <button class="refresh-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.64A9 9 0 0 0 20.49 15"/>
          </svg>
          Atualizar
        </button>
      </div>
      <div class="carousel">
        <button class="carousel-btn prev">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 18l-6-6 6-6"/>
          </svg>
        </button>
        <div class="carousel-track" id="recommended-movies">
          <!-- Filmes serão inseridos via JS -->
        </div>
        <button class="carousel-btn next">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 18l6-6-6-6"/>
          </svg>
        </button>
      </div>
    </section>

    <!-- Activity Feed -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">
          <svg class="title-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
            <circle cx="9" cy="7" r="4"/>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
          </svg>
          Atividade dos amigos
        </h2>
        <a href="#" class="section-link">Ver toda atividade →</a>
      </div>
      <div class="activity-feed">
        <div class="activity-item">
          <img src="https://wallpapers.com/images/high/xbox-360-profile-pictures-g6utg0zth2yzukhi.webp" class="activity-avatar" alt="Maria">
          <div class="activity-content">
            <p><strong>LeoArgente01</strong> avaliou <a href="#">Vingadores: Era de Ultron</a> com
              <span class="rating-stars">★★★★★</span>
            </p>
            <span class="activity-time">há 2 horas</span>
          </div>
        </div>
        <div class="activity-item">
          <img src="https://wallpapers.com/images/high/xbox-360-profile-pictures-vf5bica5zkhp2fxk.webp" class="activity-avatar" alt="João">
          <div class="activity-content">
            <p><strong>Lowzy</strong> adicionou <a href="#">Poor Things</a> à sua lista de favoritos</p>
            <span class="activity-time">há 5 horas</span>
          </div>
        </div>
        <div class="activity-item">
          <img src="https://tse1.mm.bing.net/th/id/OIP.tLD7WGvJsZjVafaoK1n9EwHaHa?pid=ImgDet&w=474&h=474&rs=1&o=7&rm=3" class="activity-avatar" alt="Ana">
          <div class="activity-content">
            <p><strong>Fantasticmsliz</strong> avaliou <a href="#">Ruptura</a></p>
            <span class="activity-time">há 1 dia</span>
          </div>
        </div>
        <div class="activity-feed">
        <div class="activity-item">
          <img src="https://wallpapers.com/images/high/xbox-360-profile-pictures-rrhxh9ll01td29ok.webp" class="activity-avatar" alt="Maria">
          <div class="activity-content">
            <p><strong>Inconsistente</strong> avaliou <a href="#">Gen V</a> com
              <span class="rating-stars">★★★★★</span>
            </p>
            <span class="activity-time">há 10 horas</span>
          </div>
        </div>
        <div class="activity-feed">
        <div class="activity-item">
          <img src="https://tse3.mm.bing.net/th/id/OIP.3KREukHWrQYcIEyEni3DHQHaHa?pid=ImgDet&w=474&h=474&rs=1&o=7&rm=3" class="activity-avatar" alt="Maria">
          <div class="activity-content">
            <p><strong>Nononha123</strong> avaliou <a href="#">Game of Thrones</a> com
              <span class="rating-stars">★★★★★</span>
            </p>
            <span class="activity-time">há 4 horas</span>
          </div>
        </div>
        <div class="activity-feed">
        <div class="activity-item">
          <img src="https://tse2.mm.bing.net/th/id/OIP.J-TCe-ReFGDGhlmqbcZ-oQHaHa?pid=ImgDet&w=474&h=474&rs=1&o=7&rm=3" class="activity-avatar" alt="Maria">
          <div class="activity-content">
            <p><strong>VictorExtreme97</strong> avaliou <a href="#">The Office</a> com
              <span class="rating-stars">★★★★★</span>
            </p>
            <span class="activity-time">há 6 horas</span>
          </div>
        </div>
      </div>
      <div class="activity-feed">
        <div class="activity-item">
          <img src="https://wallpapers.com/images/high/xbox-360-profile-pictures-glvjkc137tsrudsw.webp" class="activity-avatar" alt="Maria">
          <div class="activity-content">
            <p><strong>RafaelBorba</strong> avaliou <a href="#">Breaking Bad</a> com
              <span class="rating-stars">★★★★★</span>
            </p>
            <span class="activity-time">há 1 hora</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer aprimorado -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <div class="brand">
            <img src="{% static 'images/Logo_Backstage_branca.png' %}"
                 alt="Backstage Logo"
                 width="40" height="40">
          </div>
          <p class="footer-description">
            Sua jornada cinematográfica começa aqui. Entre no Backstage e registre cada frame.
          </p>
        </div>
        
        <div class="footer-section">
          <h3 class="footer-title">Explorar</h3>
          <ul class="footer-links">
            <li><a href="{% url 'backstage:index' %}">Início</a></li>
            <li><a href="{% url 'backstage:movies' %}">Filmes</a></li>
            <li><a href="{% url 'backstage:series' %}">Séries</a></li>
            <li><a href="{% url 'backstage:lists' %}">Listas</a></li>
            <li><a href="{% url 'backstage:comunidade' %}">Comunidade</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3 class="footer-title">Suporte</h3>
          <ul class="footer-links">
            <li><a href="#">Ajuda</a></li>
            <li><a href="#">Contato</a></li>
            <li><a href="#">Política de Privacidade</a></li>
            <li><a href="#">Termos de Uso</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h3 class="footer-title">Conecte-se</h3>
          <div class="social-links">
            <a href="#" class="social-link" aria-label="TikTok">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2v10.5A4.5 4.5 0 1 0 16.5 16V8h3V2h-7.5z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Twitter">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="Facebook">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M22 12a10 10 0 1 0-11.5 9.9V14.9h-2v-2.5h2v-1.9c0-2 1.2-3.1 3-3.1.9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2v1.8h2.2L18 14.9h-2v6.9A10 10 0 0 0 22 12z"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="YouTube">
              <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="6" width="20" height="12" rx="3" stroke="currentColor" stroke-width="1.2" fill="none"/>
                <path d="M10 9l6 3-6 3V9z" fill="currentColor"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="LinkedIn">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="2" width="20" height="20" rx="2" stroke="currentColor" stroke-width="1.2" fill="none"/>
                <path d="M7 9h2v8H7zM8 6.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM11 9h2v1.1c.3-.6 1-1.1 2-1.1 2 0 3 1.2 3 3.6V17h-2v-4c0-1-0.5-1.9-1.7-1.9-1 0-1.6.7-1.9 1.4-.1.2-.1.5-.1.8V17h-2V9z"/>
              </svg>
            </a>
          </div>
        </div>
            </a>
            <a href="#" class="social-link" aria-label="YouTube">
              <svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="6" width="20" height="12" rx="3" stroke="currentColor" stroke-width="1.2" fill="none"/>
                <path d="M10 9l6 3-6 3V9z" fill="currentColor"/>
              </svg>
            </a>
            <a href="#" class="social-link" aria-label="LinkedIn">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="2" width="20" height="20" rx="2" stroke="currentColor" stroke-width="1.2" fill="none"/>
                <path d="M7 9h2v8H7zM8 6.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM11 9h2v1.1c.3-.6 1-1.1 2-1.1 2 0 3 1.2 3 3.6V17h-2v-4c0-1-0.5-1.9-1.7-1.9-1 0-1.6.7-1.9 1.4-.1.2-.1.5-.1.8V17h-2V9z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2024 Backstage. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>

  {% include 'backstage/_mobile_search.html' %}
  {% include 'backstage/_mobile_bottom_nav.html' %}
  {% include 'backstage/_mobile_scripts.html' %}

    <script src="{% static 'js/intro.js' %}"></script>
    <script src="{% static 'js/main.js' %}?v=3.0" defer></script>
    <script src="{% static 'js/profile_menu.js' %}" defer></script>
    <script src="{% static 'js/search-suggestions.js' %}" defer></script>
</body>
</html>    